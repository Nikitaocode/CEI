(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[81],{101:function(e,a,t){"use strict";var l=t(5),s=t.n(l),r=t(776),n=t(426);a.a=Object(n.c)(e=>s.a.createElement(r.a,e),{withRef:!1})},105:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"b",(function(){return o}));var l=t(5),s=t.n(l),r=t(440);const n=e=>s.a.createElement(r.a,Object.assign({},e,{widths:["xxs","xs","sm","md","lg","xl","xxl"]})),o=({className:e})=>s.a.createElement("div",{className:"separator ".concat(e)})},1085:function(e,a,t){"use strict";t.r(a);var l=t(0),s=t(103),r=t(5),n=t.n(r),o=t(441),c=t(110),i=t(122),m=t(654),u=t(655),d=t(372),p=t(77),b=t(213),g=t(39),E=t(105),N=t(101),f=t(1),w=t(224),h=t(180),v=t.n(h);t(311);const O=e=>{let a;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(a="Invalid email address"):a="Please enter your email address",a};a.default=Object(g.b)(({authUser:e})=>({forgotUserMail:e.forgotUserMail,loading:e.loading,error:e.error}),{forgotPasswordAction:f.nb})(({history:e,forgotUserMail:a,loading:t,error:g,forgotPasswordAction:f})=>{const h=Object(r.useState)({}),x=Object(s.a)(h,2),P=x[0],T=x[1],j=Object(r.useState)({}),y=Object(s.a)(j,2),I=y[0],S=y[1],k=()=>{console.log(I),v.a.post("/send-OTP",I).then(e=>{console.log(e.data),e.data.success?(T({email:e.data.email,otp:e.data.otp,expiration:e.data.expiration}),w.b.success(e.data.success,"Password Error",3e3,null,null,"")):e.data.error&&w.b.warning(e.data.error,"Password Error",3e3,null,null,"")})},A=e=>{e.preventDefault(),P.verified?w.b.warning("OTP not verified","OTP error",3e3,null,null,""):(localStorage.setItem("userEmail",P.email),window.location.href="/user/reset-password")},C=e=>{const a=new Date;console.log(a);new Date(P.expiration).getTime()>a.getTime()?(w.b.warning("OTP is still valid ","OTP error",3e3,null,null,""),console.log(I)):(console.log(I),v.a.post("/send-OTP",I).then(e=>{console.log(e.data),e.data.success?(T({email:e.data.email,otp:e.data.otp,expiration:e.data.expiration}),w.b.warning(e.data.success,"Success",3e3,null,null,"")):e.data.error&&w.b.warning(e.data.error,"Error",3e3,null,null,"")}))};return n.a.createElement(o.a,{className:"h-100"},n.a.createElement(E.a,{xxs:"12",md:"10",className:"mx-auto my-auto"},n.a.createElement(c.a,{className:"auth-card"},n.a.createElement("div",{className:"position-relative image-side "},n.a.createElement("p",{className:"text-white h2"},"MAGIC IS IN THE DETAILS"),n.a.createElement("p",{className:"white mb-0"},"Please use your e-mail to reset your password. ",n.a.createElement("br",null),"If you are not a member, please"," ",n.a.createElement(p.b,{to:"/user/register",className:"white"},"register"),".")),n.a.createElement("div",{className:"form-side"},n.a.createElement(p.b,{to:"/",className:"white"},n.a.createElement("span",{className:"logo-single"})),n.a.createElement(i.a,{className:"mb-4"},n.a.createElement(N.a,{id:"user.forgot-password"})),n.a.createElement(b.c,null,({errors:e,touched:a})=>n.a.createElement(b.b,{className:"av-tooltip tooltip-label-bottom"},n.a.createElement(m.a,{className:"form-group has-float-label"},n.a.createElement(u.a,null,n.a.createElement(N.a,{id:"user.email"})),n.a.createElement(b.a,{className:"form-control",name:"email",validate:O,onChange:e=>{S({email:e.target.value})}})),P.otp?n.a.createElement(m.a,{className:"form-group has-float-label"},n.a.createElement(u.a,null,n.a.createElement(N.a,{id:"OTP"})),n.a.createElement(b.a,{className:"form-control",name:"Otp",validate:O,onChange:e=>{e.target.value==P.otp?(T(Object(l.a)(Object(l.a)({},P),{},{verified:!1})),w.b.success("OTP verified","Success",3e3,null,null,"")):4==e.target.value.length&&e.target.value!=P.otp&&(T(Object(l.a)(Object(l.a)({},P),{},{verified:!0})),w.b.warning("Incorrect OTP","Error",3e3,null,null,""))}})):"",n.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},P.otp?n.a.createElement("div",{style:{cursor:"pointer"},onClick:C},"Resend"):"",P.otp?n.a.createElement(d.a,{onClick:A,color:"primary",className:"btn-shadow btn-multiple-state ".concat(t?"show-spinner":""),size:"lg"},n.a.createElement("span",{className:"spinner d-inline-block"},n.a.createElement("span",{className:"bounce1"}),n.a.createElement("span",{className:"bounce2"}),n.a.createElement("span",{className:"bounce3"})),n.a.createElement("span",{className:"label"},"Reset")):n.a.createElement(d.a,{onClick:k,color:"primary",className:"btn-shadow btn-multiple-state ".concat(t?"show-spinner":""),size:"lg"},n.a.createElement("span",{className:"spinner d-inline-block"},n.a.createElement("span",{className:"bounce1"}),n.a.createElement("span",{className:"bounce2"}),n.a.createElement("span",{className:"bounce3"})),n.a.createElement("span",{className:"label"},"Send OTP")))))))))})}}]);