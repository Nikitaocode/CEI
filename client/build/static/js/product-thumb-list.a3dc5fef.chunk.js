(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[74],{837:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),l=a(0),s=a(12),o=a(103),r=a(5),u=a.n(r),i=a(131),m=a.n(i),g=a(8),d=a(325),b=a(326),O=a(368),h=a(328);const p=(e,t,a)=>{for(let c=0;c<t.length;c+=1)if(t[c][a]===e)return c;return-1},j="".concat(g.p,"/cakes/paging"),S=[{column:"title",label:"Product Name"},{column:"category",label:"Category"},{column:"status",label:"Status"}],f=[4,8,12,20],C=[{label:"Cakes",value:"Cakes",key:0},{label:"Cupcakes",value:"Cupcakes",key:1},{label:"Desserts",value:"Desserts",key:2}];t.default=({match:e})=>{const t=Object(r.useState)(!1),a=Object(o.a)(t,2),c=a[0],i=a[1],g=Object(r.useState)("thumblist"),k=Object(o.a)(g,2),y=k[0],E=k[1],M=Object(r.useState)(1),v=Object(o.a)(M,2),x=v[0],P=v[1],I=Object(r.useState)(8),w=Object(o.a)(I,2),N=w[0],z=w[1],A=Object(r.useState)({column:"title",label:"Product Name"}),D=Object(o.a)(A,2),L=D[0],B=D[1],J=Object(r.useState)(!1),K=Object(o.a)(J,2),F=K[0],q=K[1],G=Object(r.useState)(0),H=Object(o.a)(G,2),Q=H[0],R=H[1],T=Object(r.useState)(1),U=Object(o.a)(T,2),V=U[0],W=U[1],X=Object(r.useState)(""),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1],_=Object(r.useState)([]),ee=Object(o.a)(_,2),te=ee[0],ae=ee[1],ce=Object(r.useState)([]),ne=Object(o.a)(ce,2),le=ne[0],se=ne[1],oe=Object(r.useState)(null),re=Object(o.a)(oe,2),ue=re[0],ie=re[1];Object(r.useEffect)(()=>{P(1)},[N,L]),Object(r.useEffect)(()=>{function e(){return(e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.get("".concat(j,"?pageSize=").concat(N,"&currentPage=").concat(x,"&orderBy=").concat(L.column,"&search=").concat(Z)).then(e=>e.data).then(e=>{W(e.totalPage),se(e.data.map(e=>Object(l.a)(Object(l.a)({},e),{},{img:e.img.replace("img/","img/products/")}))),ae([]),R(e.totalItem),i(!0)});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[N,x,L,Z]);const me=e=>(te.length>=le.length?e&&ae([]):ae(le.map(e=>e.id)),document.activeElement.blur(),!1);Object(h.a)(["ctrl+a","command+a"],()=>{me(!1)}),Object(h.a)(["ctrl+d","command+d"],()=>(ae([]),!1));const ge=(x-1)*N,de=x*N;return c?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"disable-text-selection"},u.a.createElement(d.a,{heading:"menu.thumb-list",displayMode:y,changeDisplayMode:E,handleChangeSelectAll:me,changeOrderBy:e=>{B(S.find(t=>t.column===e))},changePageSize:z,selectedPageSize:N,totalItemCount:Q,selectedOrderOption:L,match:e,startIndex:ge,endIndex:de,selectedItemsLength:te?te.length:0,itemsLength:le?le.length:0,onSearchKey:e=>{"Enter"===e.key&&$(e.target.value.toLowerCase())},orderOptions:S,pageSizes:f,toggleModal:()=>q(!F)}),u.a.createElement(b.a,{modalOpen:F,toggleModal:()=>q(!F),categories:C}),u.a.createElement(O.a,{items:le,displayMode:y,selectedItems:te,onCheckItem:(e,t)=>{if("A"===e.target.tagName||e.target.parentElement&&"A"===e.target.parentElement.tagName)return!0;null===ue&&ie(t);let a=[...te];if(a.includes(t)?a=a.filter(e=>e!==t):a.push(t),ae(a),e.shiftKey){let e=[...le];const c=p(t,e,"id"),n=p(ue,e,"id");e=e.slice(Math.min(c,n),Math.max(c,n)+1),te.push(...e.map(e=>e.id)),a=Array.from(new Set(te)),ae(a)}return document.activeElement.blur(),!1},currentPage:x,totalPage:V,onContextMenuClick:(e,t)=>{console.log("onContextMenuClick - selected items",te),console.log("onContextMenuClick - action : ",t.action)},onContextMenu:(e,t)=>{const a=t.data;return te.includes(a)||ae([a]),!0},onChangePage:P}))):u.a.createElement("div",{className:"loading"})}}}]);